% Northern Pashto (Yousafzai) dialect postprocessing rules
% Handle final schwa deletion in certain contexts
ə -> 0 / (ɑ|i|u|e|ai)(b|p|t|θ|d͡ʒ|t͡ʃ|ts|dz|h|x|d|ð|ɖ|ɽ|r|z|ʒ|s|ʃ|ʂ|ʐ|sˤ|dˤ|tˤ|ðˤ|ʔ|ɣ|f|q|k|ɡ|l|m|n|ɳ) _ (b|p|t|θ|d͡ʒ|t͡ʃ|ts|dz|h|x|d|ð|ɖ|ɽ|r|z|ʒ|s|ʃ|ʂ|ʐ|sˤ|dˤ|tˤ|ðˤ|ʔ|ɣ|f|q|k|ɡ|l|m|n|ɳ)(ɑ|i|u|e|ai)

% Handle gemination simplification
ːː -> ː / _ _

% Handle final consonant devoicing (optional rule for Northern Pashto)
b -> p / _ #
d -> t / _ #
ɡ -> k / _ #
d͡ʒ -> t͡ʃ / _ #
dz -> ts / _ #

% Double the preceding consonant for shadda:
ّ -> 0 / _ _

% Nasal place assimilation:
n -> m / _ [pbmfv]
n -> ŋ / _ [kɡqxɣ]
n -> ɳ / _ [ʈɖɽ]

% Handle و conversion based on context
% Convert u to w in specific consonant cluster contexts (like ژوند)
u -> w / d͡ʒ _ n

% Convert u to o in other consonant contexts (like کور)
u -> o / k _ r
u -> o / [pbtdʈɖkɡqfszʃʒd͡ʒt͡ʃxɣhɽrlmnwj] _ [pbtdʈɖkɡqfszʃʒd͡ʒt͡ʃxɣhɽrlmnwj]
u -> o / [pbtdʈɖkɡqfszʃʒd͡ʒt͡ʃxɣhɽrlmnwj] _ #

% Convert final h to a in Pashto (common pattern)
h -> a / _ #

% Convert ɑu to aw for diphthong
ɑu -> aw / _ _

